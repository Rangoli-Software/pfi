const moods = {
	title: "Stories",
	url: "/look.html?t=m",
	sub: [
		{
			title: "Pigmented Universe",
			url: "/products/happyeveryday/pigmenteduniverse.html",
			lede: "Happy Everyday in a Pigmented Universe",
			imageURL: "/products/happyeveryday/mood/hedm-04.jpg"
        },
		{
			title: "Summer Dreams",
			url: "/summerdreams.html",
			lede: "The first capsule in my <strong>Ce Soir</strong> line.",
			imageURL: "/products/summerdreams/Line.jpg"
        },
		{
			title: "Vagabond",
			url: "/vagabond.html",
			lede: "The <strong>Vagabond</strong>: A capsule in a bio-washed, hand-spun, hand-loomed khadi and P.F.I. tangail - inspired by the travelers and mavericks of the world.....",
			imageURL: "/products/vagabond/KohBoy.jpg"
        },
		{
			title: "Eco Boho",
			url: "/holydaysreboot.html",
			lede: "A multi-layered boho re-imagining of our classic one-of-a-kind line of sari-based <strong>Art Wear</strong>.",
			imageURL: "/products/holydaysreboot/KaftanS.jpg"
        },
		{
			title: "It's Magic!",
			url: "/itsmagic.html",
			lede: "The <strong>It's Magic</strong> capsule of colourful, <strong>reversible</strong> children's garments in 100% Voile de Cotton",
			imageURL: "/products/itsmagic/Balloon.jpg"
        }
    ]
};

const ramp = {
	title: "Ramp",
	url: "/look.html?t=r",
	sub: [
		{
			title: 'Balearic Boho',
			url: '/look/bc.html',
			lede: 'Boho chic on the Balearic island of Ibiza',
			imageURL: "/look/ramp/j201.jpg"
        },
		{
			title: 'Va-Va Voom',
			url: '/look/vvv.html',
			lede: 'Distinctive Designs in Treasured Textiles',
			imageURL: "/look/ramp/em.jpg"
        },
		{
			title: 'Move~in',
			url: '/look/wc.html',
			lede: 'Casual Looks featuring my Woven Canvas Ts',
			imageURL: "/look/ramp/wcm.jpg"
        }
    ]
};

const lotm = {
	title: "Prema",
	url: "/look.html?t=p",
	sub: [
		{
			title: "Breezy Beach",
			url: "/look/bb.html",
			lede: 'A trio of recent designs',
			imageURL: "/look/prema/ss03.jpg"
        },
		{
			title: "Florence in Florence",
			url: "/blog/finf.html",
			lede: 'Notes from a short holiday in Florence.',
			imageURL: "/blog/FlorDuomo.jpg"
        },
		{
			title: "Tapestries!",
			url: "/tapestries/tapestries.html",
			lede: 'An artistic collaboration with Montreal photographer <strong>Jérémi Poulin</strong>',
			imageURL: "/tapestries/PremaShoot (JPEDD)-7385.jpg"
        },
		{
			lede: 'Off-shoulder knit top with one of my signature Art Wear skirts - The Naksha.',
			imageURL: "/g/look/nkshofstp.jpg"
        },
		{
			lede: 'New! Black &amp; Silver spandex creation with deep handwoven neckline.',
			imageURL: "/g/look/bwspndnew.jpg"
        },
		{
			lede: 'All set to trick-or-treat in Kitty Mask with hand-embroidered sequins, Peekaboo Top and Jeggings.',
			imageURL: "/g/look/Halloween.jpg"
        },
		{
			title: 'Look-of-the-Month',
			url: '/look/lotm.html',
			lede: 'How we started our impromptu Look-of-the-Moment series of images',
			imageURL: "/g/look/look01.jpg"
        }
    ]
};

const archives = {
	title: "Look Back",
	url: "/blog.html?t=l",
	sub: [
		{
			title: "Happy Everyday",
			url: "/blog/lb/hed.html",
			lede: 'Some interesting designs from early work on my Happy Everyday line.',
			imageURL: "/blog/lb/hed2.jpg"
        },
		{
			title: "Delta &amp; Naksha",
			url: "/blog/lb/dnn.html",
			lede: 'Older images of the Delta Dress and Naksha Scarf',
			imageURL: "/blog/lb/lb3.jpg"
        }
    ]
};

const origin = {
	title: "My Journey",
	url: "/blog.html?t=o",
	sub: [
		{
			title: "Prema's Story",
			url: "/journey/myjourney.html",
			lede: 'Over the years, I have told this story in bits and pieces to clients and friends, who kept asking why it was not on the website.....',
			imageURL: "/journey/PremaStory.jpg"
        },
		{
			title: "Auroville",
			url: "/journey/auroville.html",
			lede: 'Auroville is the center of my journey',
			imageURL: "/journey/GrowingUp.jpg"
        },
		{
			title: "Odissi 2 Salsa!",
			url: "/journey/salsa.html",
			lede: 'How my changing dance passions led me to fashion design',
			imageURL: "/journey/NakshaEvolution.jpg"
        },
		{
			title: "The Atelier",
			url: "/journey/atelier.html",
			lede: 'The history of my Rangoli Atelier',
			imageURL: "/journey/TeamYears.jpg"
        },
		{
			title: "Rang = Colour",
			url: "/journey/colour.html",
			lede: 'Rangoli is the expression of artistic vision through the joyful use of colour',
			imageURL: "/journey/LogoRangoli.jpg"
        },
		{
			title: "Tangail Traditions",
			url: "/journey/tangail.html",
			lede: 'My inspiration and signature fabric, originally created for the Moghul Emperors',
			imageURL: "/journey/Saris.jpg"
        },
		{
			title: "Treasure Trove",
			url: "/journey/treasuretrove.html",
			lede: 'How I wound up creating a treasure trove of vintage tangail borders',
			imageScript: "createWovenCanvasImage()"
        },
		{
			title: "Art Wear",
			url: "/journey/artwear.html",
			lede: 'The origin story of my one-of-a-kind Art Wear line',
			imageURL: "/g/aw/HDRKaftan1AW.jpg"
        },
		{
			title: "P.F.I. Tangail",
			url: "/journey/pfifabrics.html",
			lede: '<strong>A Bouquet of Borders!</strong> How and Why I created my own line of fabrics: <strong>P.F.I. Tangail</strong>',
			imageURL: "/journey/PreciousI.jpg"
        },
		{
			title: "Evolution",
			url: "/journey/evolution.html",
			lede: 'Influences on my evolution as an artist',
			imageURL: "/journey/EdExp.jpg"
        }
    ]
};

const atelier = {
	title: "Atelier Tales",
	url: "/blog.html?t=a",
	sub: [
		{
			title: "Jamdani Lace",
			url: "/blog/naksha2020.html",
			lede: "The Jamdani Lace Naksha Capsule",
			imageURL: "/products/artwear/skirts/mu/12.jpg"
        },
		{
			title: "Joy of Colour",
			url: "/blog/joyofcolour.html",
			lede: "Expression of artistic vision through the joyful use of colour",
			imageURL: "/blog/joyofcolour/f.jpg"
        },
		{
			title: "Vilnius Artists",
			url: "/blog/vilartists.html",
			lede: 'Visiting Vilnius  - Meeting some inspirational artists.',
			imageURL: "/blog/unda.jpg"
        },
		{
			title: "UNESCO Talk",
			url: "/blog/unesco.html",
			lede: 'Visiting Vilnius - My talk at the UNESCO hall.',
			imageURL: "/blog/utalk1.jpg"
        },
		{
			title: "The G-Spot!",
			url: "/blog/gspot.html",
			lede: 'Visiting Vilnius - The G-Spot of Europe.',
			imageURL: "/blog/oldtown.jpg"
        },
		{
			title: "Vignettes",
			url: "/atelier/vignettes.html",
			lede: 'Vignettes from in and around the Atelier',
			imageURL: "/atelier/sott.jpg"
        },
		{
			title: "Fashion Week",
			url: "/fw/fashionweek.html",
			lede: 'In September, I put together my first ever fashion show at <strong>Fashion Week Pondicherry!</strong>',
			imageURL: "/fw/finale.jpg"
        },
		{
			title: "Dream Team",
			url: "/atelier/dreamteam.html",
			lede: 'My work family - they are a big part of what makes my Rangoli Atelier tick!',
			imageURL: "/atelier/PFW.jpg"
        },
		{
			title: "Tangail Art",
			url: "/tangailcollage.html",
			lede: 'Some time ago, I started creating <strong>one-of-a-kind, numbered Woven Canvases</strong> using borders from my <strong>Treasure Trove</strong>...',
			imageURL: "/g/blog/CllgPrcSq.jpg"
        },
		{
			title: "Pranayama",
			url: "/atelier/pranayama.html",
			lede: 'We are sharing some pictures we recently received of the morning Pranayama sessions at the atelier.',
			imageURL: "/atelier/PranSq.jpg"
        },
		{
			title: "Kagera",
			url: "/products/ties/kagera.html",
			lede: 'Manifesting a designer Tie',
			imageURL: "/products/ties/Black.jpg"
        },
		{
			title: "KidinMi Launch",
			url: "/kidinmi.html",
			lede: 'After 10 years on the drawing boards, I am finally ready to launch my new kids label!! - <strong>KidinMi</strong>',
			imageURL: "/g/kimgphsimp.svg"
        }
    ]
};

const lookbook = {
	title: "Look Books",
	url: "/about.html?a=l&#about-tabs",
	sub: [
		{
			title: "Happy Everyday",
			url: "/products/happyeveryday/looks.html",
			lede: "Look Book for my Happy Everyday Line",
			imageURL: "/products/happyeveryday/blln/magenta-d1.jpg"
        },
    ]
}

const clients = {
	title: "Friends",
	url: "/look.html?t=f",
	sub: [
		{
			title: "#artwear",
			url: "/people/artwear.html",
			lede: "Images of friends wearing my signature Art Wear silhouettes",
			imageURL: "/look/friends/2.jpg"
        },
		{
			title: "Rainbow Girl",
			url: "/look/abbie.html",
			lede: "Collaborating with Abbie Stirrup",
			imageURL: "/look/friends/tt.jpg"
        },
		{
			title: "Gangsta Gal",
			url: "/look/gg.html",
			lede: "Fun with Face Masks",
			imageURL: "/look/friends/gg-aqua.jpg"
        },
		{
			title: "#oneofakind",
			url: "/people/oneofakind.html",
			lede: "The unique individuals who have collected my woven canvases",
			imageURL: "/people/ooak/sl02.jpg"
        },
		{
			title: "Curators",
			url: "/people/curators.html",
			lede: "A trio of curators that like my designs",
			imageURL: "/people/mmib.jpg"
        },
		{
			title: "Ibiza Living!",
			url: "/people/resortwear.html",
			lede: "At a beach resort on Ibiza",
			imageURL: "/people/ibgirl.jpg"
        },
		{
			title: "Birthday Boy",
			url: "/blog/bdayboy.html",
			lede: "The story of my meeting with a group of Israeli artists.",
			imageURL: "/blog/nir03.jpg"
        }
    ]
};

const about = {
	title: "About",
	url: "/about.html",
	sub: [
		{
			title: "Essence",
			url: '/essence.html',
			lede: 'The Essence of my Way',
			imageURL: '/g/premabydinh.jpg'
        },
		{
			title: "Inspiration",
			url: '/beauty.html',
			lede: 'The Beauty of the Tangail Handloom Tradition',
			imageURL: '/g/w/IMG_0093.jpg'
        },
		{
			title: "Visit",
			url: '/visitus.html',
			lede: 'How to visit our locations',
			imageURL: '/atelier/mib.jpg'
        }
    ]
};

const buzzTL = {
	title: "Buzzing...",
	url: "/about.html?a=b&#about-tabs",
	sub: []
};

const buzz = {
	title: "Buzzing...",
	url: "/about.html?a=b&#about-tabs",
	lede: 'Media coverage, both traditional and new.',
	sub: [
		{
			title: "Voice of Fashion",
			url: "https://thevoiceoffashion.com/fabric-of-india/the-south-india-edit/tangail-territory-in-auroville-2849",
			lede: 'A really well-written article and accompanying video by The Voice of Fashion',
			imageHTML: '<iframe class="embed-responsive-item" title="vimeo-player"  src="https://player.vimeo.com/video/349628022" frameborder="0" allowfullscreen></iframe>'
        },
		{
			title: "Yves Richez",
			url: "https://www.talentreveal.com/blog/rencontre-avec-prema-florence-isaac-creatrice-et-entrepreneuse-solidaire-en-inde",
			lede: 'Presenting a short documentary (in French) created by the delightful <a href="https://www.facebook.com/richez.yves">Yves Richez</a>, who visited the atelier a while ago. Scholar, writer and teacher par-excellence, Yves is committed to finding and developing human potential all around him. During his short visit, he taught me how to start creating my own videos. His presence is inspirational! We are still trying to decide if he looks more like Richard Gere or Aidan Gillen :-)',
			imageHTML: '<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/UD5KhbKHvCI?start=5" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'
        },
		{
			title: "Alia ૐ",
			url: "https://aliaom.com/alia-yoga-prema-design-auroville/",
			lede: "Check out the blog article of Alia M'Hamdi, women's yoga teacher, about our meeting and her visit to the atelier.",
			imageURL: "https://aliaom.com/wp-content/uploads/2017/03/Alia-@-The-Pink-Temple-Auroville-India.jpg"
        },
		{
			title: "Lila",
			url: "https://lila.lt/en/2018/12/prema-florence-isaac-at-first-i-look-within/",
			lede: 'Here is the first part of a story in Lila Magazine. I was interviewed by the wonderful journalist Ginta Gaivenyte.',
			imageURL: "https://lila.lt/wp-content/uploads/sites/10/2018/07/lila_logo_sviesa.png"
        },
		{
			title: "Auroville.com",
			url: "https://www.auroville.com/blog/post/meet-auroville:-prema-from-rangoli",
			lede: 'I was interviewed by Taranti for this nice article on the blog of the  Auroville Online Store.',
			imageHTML: '<figure><img src="/g/premabydinh.jpg" class="img-fluid center-block"><figcaption><small>Image: Dinh Thi Thien</small></figcaption></figure>'
        },
		{
			title: "Erika Lernot",
			url: "http://www.lesvoyagesderika.fr/mon-look-reves-de-cuba-by-rangoli/",
			lede: '<strong>Mon look - Reves de Cuba</strong> - a blog by Erika Lernot, singer and traveler, who modeled our <a href="summerdreams.html">A Midsummer Nights Dream</a> Mood.',
			imageURL: "https://i1.wp.com/www.lesvoyagesderika.fr/wp-content/uploads/2015/11/Erika-tet-mare-.jpg?zoom=2&resize=666%2C352"
        },
		{
			title: "The Hindu",
			url: "https://www.thehindu.com/features/metroplus/fashion/Ethically-swish/article16881597.ece",
			lede: '<strong>Ethically Swish</strong> - a story about Prema in The Hindu',
			imageURL: "https://www.thehindu.com/migration_catalog/article16861703.ece/ALTERNATES/FREE_660/MP16_RANGOLI.JPG"
        }
    ]
};

const shop = {
	title: "Shop",
	url: "/shop.html",
	sub: [
		{
			title: "Woven Canvas",
			url: "/products/wovencanvas/shop.html"
        },
		{
			title: "Art Wear",
			url: "/products/artwear/shop.html"
        },
		{
			title: "It's Magic",
			url: "/products/itsmagic/shop.html"
        },
		{
			title: "Ce Soir",
			url: "/products/night/shop.html"
        },
		{
			title: "Vagabond",
			url: "/products/men/shop.html"
        },
		{
			title: "Happy Everyday",
			url: "/products/happyeveryday/shop.html"
        },
		{
			title: "Extras",
			url: "/products/xtras/shop.html"
        }
    ]
};

const faqs = {
	title: "Shop FAQ",
	url: "/shopfaq.html",
	sub: [
    ]
};


const siteMap = [
	{
		sub: [
			{
				title: "Blog",
				url: "/blog.html"
            },
			{
				title: "About Us",
				url: "/about.html"
            },
			{
				title: "Look",
				url: "/look.html"
            },
			{
				title: "Shop",
				url: "/shop.html"
            }
        ]
    },
    origin,
    atelier,
    clients,
    lookbook,
    about,
    buzz,
    moods,
    ramp,
    archives,
    lotm,
	shop
];

const cmData = [
['Test Live Trans','TESTIT0000Hi','0','0','','FALSE'],

['P.F.I. T-Shirt','AWTSHT1604Je','0.2','1.2','/products/wovencanvas/tshirt.html','TRUE'],
['Dip-Dye Scarf','DPDYSF1501PT','0.36','1.2','/products/scarves/dipdye.html','FALSE'],
['Champagne Bag','CHMPGN1501JL','0.0208333333333333','1.1','/products/xtras/champagnebag.html','FALSE'],

['Tant Facemask','FACEMK2005Ta','0.0095','1.2','/products/accessories/facemask.html','TRUE'],
['Naksha Micro','NKSHMC1512PP','0.18','1.2','/products/artwear/naksha.html?s=c','TRUE'],
['Naksha Mini','NKSHMI1501PP','0.28','1.2','/products/artwear/naksha.html?s=m','TRUE'],
['Naksha Midi','NKSHMD1501PP','0.34','1.2','/products/artwear/naksha.html?s=d','TRUE'],
['Naksha Minuit','NKSHMU1501PP','0.4','1.2','/products/artwear/naksha.html?s=u','TRUE'],
['Trikona Dress','DELTDR1611PP','0.4','1.2','/products/artwear/trikona.html','TRUE'],
['Sari Top','SARITP1501Pa','0.4','1.2','/products/artwear/sari.html','TRUE'],
['Ravakai Top','JULITP1501Pa','0.4','1.2','/products/artwear/ravakai.html','TRUE'],
['Payara Top','TRPZTP1807Pa','0.4','1.2','/products/artwear/payara.html','TRUE'],
['Madras Top','MDRSTP1606PP','0.4','1.2','/products/artwear/madras.html','TRUE'],
['Pallu Overtop','OVTPSH1501Pa','0.4','1.2','/products/artwear/sovertop.html','TRUE'],
['Seragu Overtop','OVERTP1501Pa','0.4','1.2','/products/artwear/overtop.html','TRUE'],
['Aanchal Trench','OVTPLO1501Pa','0.4','1.2','/products/artwear/lovertop.html','TRUE'],
['Tamarai Dress','NKSHDR1501Ta','0.35','1.2','/products/artwear/tamarai.html','TRUE'],
['Malligai Dress','NKSDSL1701Ta','0.35','1.2','/products/artwear/malligai.html','TRUE'],
['Kamalam Dress','LOTSDR1501Ja','0.35','1.2','/products/artwear/kamalam.html','TRUE'],
['Kaftan','LNKFTN1501Ja','0.35','1.2','/products/artwear/kaftan.html','TRUE'],

['Angkor Kurta','ANGKRT1601Kh','0.1','1.1','/products/men/angkor.html','FALSE'],
['Arambol 3/4 Pants','ARAMPA1601Kh','','','/products/men/arambol.html','FALSE'],
['Koh Kurta','KOHKRT1601Kh','0.1','1.1','/products/men/koh.html','FALSE'],
['Manhattan Shirt','MNHTST2016SP','0.15','1.1','/products/men/manhattanS.html','FALSE'],
['Manhattan Trouser','MNHTPT2018SP','0.45','1.1','/products/men/manhattanP.html','FALSE'],
['Mavericks Kurta','MAVKRT1601Kh','0.1375','1.1','/products/men/mavericks.html','FALSE'],
['Narigama Kurta','NARKRT1601Kh','0.1375','1.1','/products/men/narigama.html','FALSE'],
['Pondy Pant','PNDPNT1601Kh','0.15','1.2','/products/men/pondy.html','FALSE'],
['Ubud Pant','UBDPNT1601Kh','0.1875','1.2','/products/men/ubud.html','FALSE'],
['Kagera Tie','KAGTIE1601Kh','0.094','1.1','/products/men/kagera.html','FALSE'],

['Shoulder String Dress','LTSDSL1501Kh','0.25','1.15','/products/happyeveryday/shoulderstring.html','FALSE'],
['Sideslit Top','VAMPAL1708Kh','0.1','1.15','/products/happyeveryday/sideslit.html','FALSE'],
['Layered Dress','LITLAY1708Vo','0.15','1.15','/products/happyeveryday/layer.html','FALSE'],
['Crop Top','CRPTOP1805Kh','0.025','1.15','/products/happyeveryday/croptop.html','FALSE'],
['Tank Top','TNKTPS1902Kh','0.04','1.15','/products/happyeveryday/tanktop.html','FALSE'],
['Wings Top','TRPZTP1807Kh','0.1','1.15','/products/happyeveryday/wings.html','FALSE'],
['Bermuda Pant','BERMPA1609Kh','0.12','1.15','/products/happyeveryday/bermuda.html','FALSE'],
['Drawstring Pant','DRAWPA1609Kh','0.12','1.15','/products/happyeveryday/drawstring.html','FALSE'],
['Lily Pant','WNDRPA1709Kh','0.15','1.15','/products/happyeveryday/lily.html','FALSE'],
['Harem Pant','BALLPA1501Vo','0.25','1.15','/products/happyeveryday/balloon.html','FALSE'],
['Jodhpur Pant','JODHPA1708Kh','','','/products/happyeveryday/jodhpur.html','FALSE'],
['Floating Overlayer','OVTPSH1501Vo','0.0375','1.15','/products/happyeveryday/shovertop.html','FALSE'],
['Floating Long Overlayer','OVTPLO1501Vo','0.075','1.15','/products/happyeveryday/lovertop.html','FALSE'],

['Bianca Dress','BNCADR1505PT','','1.15','/products/night/biancaD.html','FALSE'],
['Bianca Jacket','BNCJKT1505PT','','1.15','/products/night/biancaJ.html','FALSE'],
['Celia Mini Skirt','NKSHMI1501PT','0.25','1.15','/products/night/celia.html','FALSE'],
['Cleopatra Top','CLPTRT1505PT','0.05','1.15','/products/night/cleoT.html','FALSE'],
['Cleopatra Shorts','CLPTRS1505PT','0.1','1.15','/products/night/cleoS.html','FALSE'],
['Emilia Dress','EMLDRS1505PT','0.2','1.15','/products/night/emilia.html','FALSE'],
['Helena Dress','HLNDRS1505PT','0.25','1.15','/products/night/helena.html','FALSE'],
['Juliet Dress','JLTDRS1505PT','0.25','1.15','/products/night/juliet.html','FALSE'],
['Nerissa Top','NRSSTP1505PT','','1.15','/products/night/nerissaT.html','FALSE'],
['Nerissa Pant','NRSPNT1505PT','','1.15','/products/night/nerissaP.html','FALSE'],
['Ophelia Dress','OPHLDR1505PT','0.2','1.15','/products/night/ophelia.html','FALSE'],
['Portia Top','PRTATP1505PT','0.075','1.15','/products/night/portia.html','FALSE'],
['Tamora Dress','BKLLTS1505Je','0.35','1.15','/products/night/tamora.html','FALSE'],
['Titania Dress','TTNDRS1505Je','0.2','1.15','/products/night/titania.html','FALSE'],
['Viola Dress','VLADRS1505PT','0.2','1.15','/products/night/viola.html','FALSE'],

['Jasmine Dress','NKSDSL1701PT','','','','FALSE'],

['Balloon Pant','KBALPA1601Vo','0.15','1.15','/products/itsmagic/balloon.html','FALSE'],
['Flow Dress','KDHRDR1601Rv','0.06','1.15','/products/itsmagic/flow.html','FALSE'],
['Fairy Set','FAIRST2011Rv','0.15','1.15','/products/itsmagic/fairy.html','FALSE'],
['Fairy Skirt','FAIRSK1601Rv','','1.15','/products/itsmagic/fairyS.html','FALSE'],
['Fairy Top','FAIRTP1601Je','','1.15','/products/itsmagic/fairyT.html','FALSE'],
['Gypsy Set','KGYPST1601Rv','0.2','1.15','/products/itsmagic/gypsy.html','FALSE'],
['Half Pant','HLFPNT1601Kh','0.05','1.15','/products/itsmagic/halfpant.html','FALSE'],
['Half Pant Topsy','HLFTPS1601Kh','0.05','1.15','/products/itsmagic/halfpantT.html','FALSE'],
['Layer Dress','KLGTLY1601Rv','0.05','1.15','/products/itsmagic/layer.html','FALSE'],
['Princess Dress','PRNCDR1501Rv','0.1','1.15','/products/itsmagic/princess.html','FALSE'],
['Racerback Top','KRACBK1501Je','','1.15','/products/itsmagic/racerback.html','FALSE'],
['Full Pant','KRAJPT1601Kh','0.06','1.15','/products/itsmagic/fullpant.html','FALSE'],
['Royal Kurta','KRAJKT1601Rv','0.1','1.15','/products/itsmagic/royal.html','FALSE'],
['Prince Tunic','YUVRTC1601Rv','0.1','1.15','/products/itsmagic/prince.html','FALSE'],
['Wave Dress','KWAVDR1601Rv','0.1','1.15','/products/itsmagic/wave.html','FALSE'],

['Kidikini','KIDIKI1501Vi','0.02','1.15','/products/itsmagic/kidikini.html','FALSE'],
['Koh Kurta','KKOHKT1601Kh','','','/products/kids/koh.html','FALSE'],
['Dragon Cape','DNOCPE1708AS','','','/products/kids/dragon.html','FALSE']
];

function getHostName(url) {
	var match = url.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);
	if (match !== null && match.length > 2 && typeof match[2] === 'string' && match[2].length > 0) {
		return match[2];
	} else {
		return null;
	}
}

function createSiteMapGenerator(path) {
	return {
		path: path,
		createProductNode: function (cmrow) {
			var url = cmrow[4];
			if (url !== undefined && getHostName(url) === null) {
				return "<url><loc>" + this.path + url + "</loc></url>";
			};
			return null;
		},
		createSMNode: function (node) {
			var res = "";
			if (node.url !== undefined && getHostName(node.url) === null) {
				res += "<url><loc>" + this.path + node.url + "</loc></url>";
			};
			if (node.sub !== undefined) {
				res += this.createSM(node.sub);
			}
			return res;
		},
		createSM: function (nodeArr) {
			var res = "";
			for (var i = 0; i < nodeArr.length; i++) {
				res += this.createSMNode(nodeArr[i]);
			}
			return res;
		},
		createAllSM: function(nodeArr) {
			var res = this.createSM(nodeArr);
			for (i = 1; i < cmData.length; i++) {
				res += this.createProductNode(cmData[i]);
			}
			return res;
		}
	};
}

function createSM(path) {
	return createSiteMapGenerator(path).createAllSM(siteMap);
}

module.exports = {
    createSM
}
